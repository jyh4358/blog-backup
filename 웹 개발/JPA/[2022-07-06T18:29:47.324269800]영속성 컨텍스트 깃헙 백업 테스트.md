
# 영속성 컨텍스트

- [1차 캐시](#1차-캐시)
- 동일성(identity) 보장
- 트랜잭션을 지원하는 쓰기 지연(Transactional write-behind)
- 변경 감지(Dirty Checking)
- 지연 로딩(Lazy Loading)
- 플러시
- 준영속 상태

<br/>
<br/>

## 1차 캐시

- 영속 상태인 Entity, 즉, 영속 컨텍스트에서 관리되는 Entity는 조회 시 1차 캐시에서 가져온다.
- 1차 캐시에 저장되어 있지 않은 Entity는 데이터베이스에서 조회한 후 1차 캐시에 저장한다.

```
Member member = new Member();
member.setId("member1");
member.setUsername("회원1");

//1차 캐시에 저장됨(영속)
em.persist(member);

//1차 캐시에서 조회
Member findMember = em.find(Member.class, "member");
```
